"use strict";var P=Object.defineProperty;var Hs=Object.getOwnPropertyDescriptor;var Js=Object.getOwnPropertyNames;var Zs=Object.prototype.hasOwnProperty;var Qs=(s,n)=>{for(var e in n)P(s,e,{get:n[e],enumerable:!0})},Ys=(s,n,e,t)=>{if(n&&typeof n=="object"||typeof n=="function")for(let r of Js(n))!Zs.call(s,r)&&r!==e&&P(s,r,{get:()=>n[r],enumerable:!(t=Hs(n,r))||t.enumerable});return s};var et=s=>Ys(P({},"__esModule",{value:!0}),s);var Vt={};Qs(Vt,{BIC_REGEX:()=>q,CUID2_REGEX:()=>D,DECIMAL_REGEX:()=>N,EMAIL_REGEX:()=>W,EMOJI_REGEX:()=>V,HEXADECIMAL_REGEX:()=>C,HEX_COLOR_REGEX:()=>L,IMEI_REGEX:()=>K,IPV4_REGEX:()=>$,IPV6_REGEX:()=>z,IP_REGEX:()=>U,ISO_DATE_REGEX:()=>F,ISO_DATE_TIME_REGEX:()=>G,ISO_TIMESTAMP_REGEX:()=>J,ISO_TIME_REGEX:()=>X,ISO_TIME_SECOND_REGEX:()=>H,ISO_WEEK_REGEX:()=>Z,MAC48_REGEX:()=>Q,MAC64_REGEX:()=>Y,MAC_REGEX:()=>ee,OCTAL_REGEX:()=>ne,ULID_REGEX:()=>se,UUID_REGEX:()=>te,ValiError:()=>h,_addIssue:()=>u,_isLuhnAlgo:()=>b,_isValidObjectKey:()=>T,_stringify:()=>f,any:()=>zn,array:()=>Un,arrayAsync:()=>Fn,bic:()=>Te,bigint:()=>Gn,blob:()=>Xn,boolean:()=>Hn,brand:()=>le,bytes:()=>he,check:()=>xe,checkAsync:()=>ge,checkItems:()=>ke,config:()=>ht,creditCard:()=>Se,cuid2:()=>we,custom:()=>Jn,customAsync:()=>Zn,date:()=>Qn,decimal:()=>Oe,deleteGlobalConfig:()=>st,deleteGlobalMessage:()=>rt,deleteSchemaMessage:()=>at,deleteSpecificMessage:()=>it,email:()=>Be,emoji:()=>be,empty:()=>Ee,endsWith:()=>Me,entriesFromList:()=>ct,enum:()=>Yn,enum_:()=>Yn,everyItem:()=>Ae,excludes:()=>je,fallback:()=>xt,fallbackAsync:()=>gt,filterItems:()=>ve,findItem:()=>Re,finite:()=>_e,flatten:()=>kt,forward:()=>St,forwardAsync:()=>wt,getDefault:()=>y,getDefaults:()=>ie,getDefaultsAsync:()=>pe,getDotPath:()=>oe,getFallback:()=>x,getFallbacks:()=>ce,getFallbacksAsync:()=>Ie,getGlobalConfig:()=>l,getGlobalMessage:()=>re,getSchemaMessage:()=>ue,getSpecificMessage:()=>ae,hash:()=>Pe,hexColor:()=>De,hexadecimal:()=>qe,imei:()=>Ne,includes:()=>We,instance:()=>es,integer:()=>Ve,intersect:()=>ns,intersectAsync:()=>ss,ip:()=>Ce,ipv4:()=>Le,ipv6:()=>Ke,is:()=>Ot,isOfKind:()=>It,isOfType:()=>mt,isValiError:()=>dt,isoDate:()=>$e,isoDateTime:()=>ze,isoTime:()=>Ue,isoTimeSecond:()=>Fe,isoTimestamp:()=>Ge,isoWeek:()=>Xe,keyof:()=>Bt,lazy:()=>ts,lazyAsync:()=>rs,length:()=>He,literal:()=>us,looseObject:()=>as,looseObjectAsync:()=>os,looseTuple:()=>is,looseTupleAsync:()=>ps,mac:()=>Je,mac48:()=>Ze,mac64:()=>Qe,map:()=>cs,mapAsync:()=>Is,mapItems:()=>Ye,maxBytes:()=>en,maxLength:()=>nn,maxSize:()=>sn,maxValue:()=>tn,mimeType:()=>rn,minBytes:()=>un,minLength:()=>an,minSize:()=>on,minValue:()=>pn,multipleOf:()=>cn,nan:()=>ms,never:()=>ds,nonEmpty:()=>In,nonNullable:()=>fs,nonNullableAsync:()=>ys,nonNullish:()=>Ts,nonNullishAsync:()=>ls,nonOptional:()=>A,nonOptionalAsync:()=>j,notBytes:()=>mn,notLength:()=>dn,notSize:()=>fn,notValue:()=>yn,null:()=>hs,null_:()=>hs,nullable:()=>xs,nullableAsync:()=>gs,nullish:()=>ks,nullishAsync:()=>Ss,number:()=>ws,object:()=>Os,objectAsync:()=>Bs,objectWithRest:()=>bs,objectWithRestAsync:()=>Es,octal:()=>Tn,omit:()=>bt,optional:()=>v,optionalAsync:()=>R,parse:()=>me,parseAsync:()=>de,parser:()=>Et,parserAsync:()=>Mt,partial:()=>At,partialAsync:()=>jt,partialCheck:()=>ln,partialCheckAsync:()=>hn,pick:()=>vt,picklist:()=>_,pipe:()=>Rt,pipeAsync:()=>_t,rawCheck:()=>xn,rawCheckAsync:()=>gn,rawTransform:()=>kn,rawTransformAsync:()=>Sn,readonly:()=>wn,record:()=>Ms,recordAsync:()=>As,reduceItems:()=>On,regex:()=>Bn,required:()=>Pt,requiredAsync:()=>qt,safeInteger:()=>bn,safeParse:()=>fe,safeParseAsync:()=>ye,safeParser:()=>Dt,safeParserAsync:()=>Nt,set:()=>js,setAsync:()=>vs,setGlobalConfig:()=>nt,setGlobalMessage:()=>tt,setSchemaMessage:()=>ut,setSpecificMessage:()=>ot,size:()=>En,someItem:()=>Mn,sortItems:()=>An,startsWith:()=>jn,strictObject:()=>Rs,strictObjectAsync:()=>_s,strictTuple:()=>Ps,strictTupleAsync:()=>qs,string:()=>Ds,symbol:()=>Ns,toLowerCase:()=>vn,toMaxValue:()=>Rn,toMinValue:()=>_n,toUpperCase:()=>Pn,transform:()=>qn,transformAsync:()=>Dn,trim:()=>Nn,trimEnd:()=>Wn,trimStart:()=>Vn,tuple:()=>Ws,tupleAsync:()=>Vs,tupleWithRest:()=>Cs,tupleWithRestAsync:()=>Ls,ulid:()=>Cn,undefined:()=>Ks,undefined_:()=>Ks,union:()=>$s,unionAsync:()=>zs,unknown:()=>Us,unwrap:()=>Wt,url:()=>Ln,uuid:()=>Kn,value:()=>$n,variant:()=>Fs,variantAsync:()=>Gs,void:()=>Xs,void_:()=>Xs});module.exports=et(Vt);var q=/^[A-Z]{6}(?!00)[A-Z\d]{2}(?:[A-Z\d]{3})?$/u,D=/^[a-z][\da-z]*$/u,N=/^\d+$/u,W=/^[\w+-]+(?:\.[\w+-]+)*@[\da-z]+(?:[.-][\da-z]+)*\.[a-z]{2,}$/iu,V=/^[\p{Extended_Pictographic}\p{Emoji_Component}]+$/u,C=/^(?:0h|0x)?[\da-f]+$/iu,L=/^#(?:[\da-f]{3,4}|[\da-f]{6}|[\da-f]{8})$/iu,K=/^\d{15}$|^\d{2}-\d{6}-\d{6}-\d$/u,$=/^(?:(?:[1-9]|1\d|2[0-4])?\d|25[0-5])(?:\.(?:(?:[1-9]|1\d|2[0-4])?\d|25[0-5])){3}$/u,z=/^(?:(?:[\da-f]{1,4}:){7}[\da-f]{1,4}|(?:[\da-f]{1,4}:){1,7}:|(?:[\da-f]{1,4}:){1,6}:[\da-f]{1,4}|(?:[\da-f]{1,4}:){1,5}(?::[\da-f]{1,4}){1,2}|(?:[\da-f]{1,4}:){1,4}(?::[\da-f]{1,4}){1,3}|(?:[\da-f]{1,4}:){1,3}(?::[\da-f]{1,4}){1,4}|(?:[\da-f]{1,4}:){1,2}(?::[\da-f]{1,4}){1,5}|[\da-f]{1,4}:(?::[\da-f]{1,4}){1,6}|:(?:(?::[\da-f]{1,4}){1,7}|:)|fe80:(?::[\da-f]{0,4}){0,4}%[\da-z]+|::(?:f{4}(?::0{1,4})?:)?(?:(?:25[0-5]|(?:2[0-4]|1?\d)?\d)\.){3}(?:25[0-5]|(?:2[0-4]|1?\d)?\d)|(?:[\da-f]{1,4}:){1,4}:(?:(?:25[0-5]|(?:2[0-4]|1?\d)?\d)\.){3}(?:25[0-5]|(?:2[0-4]|1?\d)?\d))$/iu,U=/^(?:(?:[1-9]|1\d|2[0-4])?\d|25[0-5])(?:\.(?:(?:[1-9]|1\d|2[0-4])?\d|25[0-5])){3}$|^(?:(?:[\da-f]{1,4}:){7}[\da-f]{1,4}|(?:[\da-f]{1,4}:){1,7}:|(?:[\da-f]{1,4}:){1,6}:[\da-f]{1,4}|(?:[\da-f]{1,4}:){1,5}(?::[\da-f]{1,4}){1,2}|(?:[\da-f]{1,4}:){1,4}(?::[\da-f]{1,4}){1,3}|(?:[\da-f]{1,4}:){1,3}(?::[\da-f]{1,4}){1,4}|(?:[\da-f]{1,4}:){1,2}(?::[\da-f]{1,4}){1,5}|[\da-f]{1,4}:(?::[\da-f]{1,4}){1,6}|:(?:(?::[\da-f]{1,4}){1,7}|:)|fe80:(?::[\da-f]{0,4}){0,4}%[\da-z]+|::(?:f{4}(?::0{1,4})?:)?(?:(?:25[0-5]|(?:2[0-4]|1?\d)?\d)\.){3}(?:25[0-5]|(?:2[0-4]|1?\d)?\d)|(?:[\da-f]{1,4}:){1,4}:(?:(?:25[0-5]|(?:2[0-4]|1?\d)?\d)\.){3}(?:25[0-5]|(?:2[0-4]|1?\d)?\d))$/iu,F=/^\d{4}-(?:0[1-9]|1[0-2])-(?:[12]\d|0[1-9]|3[01])$/u,G=/^\d{4}-(?:0[1-9]|1[0-2])-(?:[12]\d|0[1-9]|3[01])T(?:0\d|1\d|2[0-3]):[0-5]\d$/u,X=/^(?:0\d|1\d|2[0-3]):[0-5]\d$/u,H=/^(?:0\d|1\d|2[0-3])(?::[0-5]\d){2}$/u,J=/^\d{4}-(?:0[1-9]|1[0-2])-(?:[12]\d|0[1-9]|3[01])T(?:0\d|1\d|2[0-3])(?::[0-5]\d){2}(?:\.\d{1,9})?(?:Z|[+-](?:0\d|1\d|2[0-3])(?::?[0-5]\d)?)$/u,Z=/^\d{4}-W(?:0[1-9]|[1-4]\d|5[0-3])$/u,Q=/^(?:[\da-f]{2}:){5}[\da-f]{2}$|^(?:[\da-f]{2}-){5}[\da-f]{2}$|^(?:[\da-f]{4}\.){2}[\da-f]{4}$/iu,Y=/^(?:[\da-f]{2}:){7}[\da-f]{2}$|^(?:[\da-f]{2}-){7}[\da-f]{2}$|^(?:[\da-f]{4}\.){3}[\da-f]{4}$|^(?:[\da-f]{4}:){3}[\da-f]{4}$/iu,ee=/^(?:[\da-f]{2}:){5}[\da-f]{2}$|^(?:[\da-f]{2}-){5}[\da-f]{2}$|^(?:[\da-f]{4}\.){2}[\da-f]{4}$|^(?:[\da-f]{2}:){7}[\da-f]{2}$|^(?:[\da-f]{2}-){7}[\da-f]{2}$|^(?:[\da-f]{4}\.){3}[\da-f]{4}$|^(?:[\da-f]{4}:){3}[\da-f]{4}$/iu,ne=/^(?:0o)?[0-7]+$/iu,se=/^[\da-hjkmnp-tv-z]{26}$/iu,te=/^[\da-f]{8}(?:-[\da-f]{4}){3}-[\da-f]{12}$/iu;var k;function nt(s){k={...k,...s}}function l(s){return{lang:s?.lang??k?.lang,message:s?.message,abortEarly:s?.abortEarly??k?.abortEarly,abortPipeEarly:s?.abortPipeEarly??k?.abortPipeEarly}}function st(){k=void 0}var O;function tt(s,n){O||(O=new Map),O.set(n,s)}function re(s){return O?.get(s)}function rt(s){O?.delete(s)}var B;function ut(s,n){B||(B=new Map),B.set(n,s)}function ue(s){return B?.get(s)}function at(s){B?.delete(s)}var g;function ot(s,n,e){g||(g=new Map),g.get(s)||g.set(s,new Map),g.get(s).set(e,n)}function ae(s,n){return g?.get(s)?.get(n)}function it(s,n){g?.get(s)?.delete(n)}function f(s){let n=typeof s;return n==="object"&&(n=(s&&Object.getPrototypeOf(s)?.constructor?.name)??"null"),n==="string"?`"${s}"`:n==="number"||n==="bigint"||n==="boolean"?`${s}`:n}function u(s,n,e,t,r){let o=r&&"input"in r?r.input:e.value,i=r?.expected??s.expects??null,p=r?.received??f(o),a={kind:s.kind,type:s.type,input:o,expected:i,received:p,message:`Invalid ${n}: ${i?`Expected ${i} but r`:"R"}eceived ${p}`,requirement:s.requirement,path:r?.path,issues:r?.issues,lang:t.lang,abortEarly:t.abortEarly,abortPipeEarly:t.abortPipeEarly},c=s.kind==="schema",I=r?.message??s.message??ae(s.reference,a.lang)??(c?ue(a.lang):null)??t.message??re(a.lang);I&&(a.message=typeof I=="function"?I(a):I),c&&(e.typed=!1),e.issues?e.issues.push(a):e.issues=[a]}var pt=/\D/gu;function b(s){let n=s.replace(pt,""),e=n.length,t=1,r=0;for(;e;){let o=+n[--e];t^=1,r+=t?[0,2,4,6,8,1,3,5,7,9][o]:o}return r%10===0}function T(s,n){return Object.hasOwn(s,n)&&n!=="__proto__"&&n!=="prototype"&&n!=="constructor"}function ct(s,n){let e={};for(let t of s)e[t]=n;return e}function oe(s){if(s.path){let n="";for(let e of s.path)if("key"in e&&(typeof e.key=="string"||typeof e.key=="number"))n?n+=`.${e.key}`:n+=e.key;else return null;return n}return null}function It(s,n){return n.kind===s}function mt(s,n){return n.type===s}function dt(s){return s instanceof h}var h=class extends Error{issues;constructor(n){super(n[0].message),this.name="ValiError",this.issues=n}};function Te(s){return{kind:"validation",type:"bic",reference:Te,async:!1,expects:null,requirement:q,message:s,_run(n,e){return n.typed&&!this.requirement.test(n.value)&&u(this,"BIC",n,e),n}}}function le(s){return{kind:"transformation",type:"brand",reference:le,async:!1,name:s,_run(n){return n}}}function he(s,n){return{kind:"validation",type:"bytes",reference:he,async:!1,expects:`${s}`,requirement:s,message:n,_run(e,t){if(e.typed){let r=new TextEncoder().encode(e.value).length;r!==this.requirement&&u(this,"bytes",e,t,{received:`${r}`})}return e}}}function xe(s,n){return{kind:"validation",type:"check",reference:xe,async:!1,expects:null,requirement:s,message:n,_run(e,t){return e.typed&&!this.requirement(e.value)&&u(this,"input",e,t),e}}}function ge(s,n){return{kind:"validation",type:"check",reference:ge,async:!0,expects:null,requirement:s,message:n,async _run(e,t){return e.typed&&!await this.requirement(e.value)&&u(this,"input",e,t),e}}}function ke(s,n){return{kind:"validation",type:"check_items",reference:ke,async:!1,expects:null,requirement:s,message:n,_run(e,t){if(e.typed)for(let r=0;r<e.value.length;r++){let o=e.value[r];this.requirement(o,r,e.value)||u(this,"item",e,t,{input:o,path:[{type:"array",origin:"value",input:e.value,key:r,value:o}]})}return e}}}var ft=/^(?:\d{14,19}|\d{4}(?: \d{3,6}){2,4}|\d{4}(?:-\d{3,6}){2,4})$/u,yt=/[- ]/gu,Tt=[/^3[47]\d{13}$/u,/^3(?:0[0-5]|[68]\d)\d{11,13}$/u,/^6(?:011|5\d{2})\d{12,15}$/u,/^(?:2131|1800|35\d{3})\d{11}$/u,/^5[1-5]\d{2}|(?:222\d|22[3-9]\d|2[3-6]\d{2}|27[01]\d|2720)\d{12}$/u,/^(?:6[27]\d{14,17}|81\d{14,17})$/u,/^4\d{12}(?:\d{3,6})?$/u];function Se(s){return{kind:"validation",type:"credit_card",reference:Se,async:!1,expects:null,requirement(n){let e;return ft.test(n)&&(e=n.replace(yt,""))&&Tt.some(t=>t.test(e))&&b(e)},message:s,_run(n,e){return n.typed&&!this.requirement(n.value)&&u(this,"credit card",n,e),n}}}function we(s){return{kind:"validation",type:"cuid2",reference:we,async:!1,expects:null,requirement:D,message:s,_run(n,e){return n.typed&&!this.requirement.test(n.value)&&u(this,"Cuid2",n,e),n}}}function Oe(s){return{kind:"validation",type:"decimal",reference:Oe,async:!1,expects:null,requirement:N,message:s,_run(n,e){return n.typed&&!this.requirement.test(n.value)&&u(this,"decimal",n,e),n}}}function Be(s){return{kind:"validation",type:"email",reference:Be,expects:null,async:!1,requirement:W,message:s,_run(n,e){return n.typed&&!this.requirement.test(n.value)&&u(this,"email",n,e),n}}}function be(s){return{kind:"validation",type:"emoji",reference:be,async:!1,expects:null,requirement:V,message:s,_run(n,e){return n.typed&&!this.requirement.test(n.value)&&u(this,"emoji",n,e),n}}}function Ee(s){return{kind:"validation",type:"empty",reference:Ee,async:!1,expects:"0",message:s,_run(n,e){return n.typed&&n.value.length>0&&u(this,"length",n,e,{received:`${n.value.length}`}),n}}}function Me(s,n){return{kind:"validation",type:"ends_with",reference:Me,async:!1,expects:`"${s}"`,requirement:s,message:n,_run(e,t){return e.typed&&!e.value.endsWith(this.requirement)&&u(this,"end",e,t,{received:`"${e.value.slice(-this.requirement.length)}"`}),e}}}function Ae(s,n){return{kind:"validation",type:"every_item",reference:Ae,async:!1,expects:null,requirement:s,message:n,_run(e,t){return e.typed&&!e.value.every(this.requirement)&&u(this,"item",e,t),e}}}function je(s,n){let e=f(s);return{kind:"validation",type:"excludes",reference:je,async:!1,expects:`!${e}`,requirement:s,message:n,_run(t,r){return t.typed&&t.value.includes(this.requirement)&&u(this,"content",t,r,{received:e}),t}}}function ve(s){return{kind:"transformation",type:"filter_items",reference:ve,async:!1,_run(n){return n.value=n.value.filter(s),n}}}function Re(s){return{kind:"transformation",type:"find_item",reference:Re,async:!1,_run(n){return n.value=n.value.find(s),n}}}function _e(s){return{kind:"validation",type:"finite",reference:_e,async:!1,expects:null,requirement:Number.isFinite,message:s,_run(n,e){return n.typed&&!this.requirement(n.value)&&u(this,"finite",n,e),n}}}var lt={md4:32,md5:32,sha1:40,sha256:64,sha384:96,sha512:128,ripemd128:32,ripemd160:40,tiger128:32,tiger160:40,tiger192:48,crc32:8,crc32b:8,adler32:8};function Pe(s,n){return{kind:"validation",type:"hash",reference:Pe,expects:null,async:!1,requirement:RegExp(s.map(e=>`^[a-f0-9]{${lt[e]}}$`).join("|"),"iu"),message:n,_run(e,t){return e.typed&&!this.requirement.test(e.value)&&u(this,"hash",e,t),e}}}function qe(s){return{kind:"validation",type:"hexadecimal",reference:qe,async:!1,expects:null,requirement:C,message:s,_run(n,e){return n.typed&&!this.requirement.test(n.value)&&u(this,"hexadecimal",n,e),n}}}function De(s){return{kind:"validation",type:"hex_color",reference:De,async:!1,expects:null,requirement:L,message:s,_run(n,e){return n.typed&&!this.requirement.test(n.value)&&u(this,"hex color",n,e),n}}}function Ne(s){return{kind:"validation",type:"imei",reference:Ne,async:!1,expects:null,requirement(n){return K.test(n)&&b(n)},message:s,_run(n,e){return n.typed&&!this.requirement(n.value)&&u(this,"IMEI",n,e),n}}}function We(s,n){let e=f(s);return{kind:"validation",type:"includes",reference:We,async:!1,expects:e,requirement:s,message:n,_run(t,r){return t.typed&&!t.value.includes(this.requirement)&&u(this,"content",t,r,{received:`!${e}`}),t}}}function Ve(s){return{kind:"validation",type:"integer",reference:Ve,async:!1,expects:null,requirement:Number.isInteger,message:s,_run(n,e){return n.typed&&!this.requirement(n.value)&&u(this,"integer",n,e),n}}}function Ce(s){return{kind:"validation",type:"ip",reference:Ce,async:!1,expects:null,requirement:U,message:s,_run(n,e){return n.typed&&!this.requirement.test(n.value)&&u(this,"IP",n,e),n}}}function Le(s){return{kind:"validation",type:"ipv4",reference:Le,async:!1,expects:null,requirement:$,message:s,_run(n,e){return n.typed&&!this.requirement.test(n.value)&&u(this,"IPv4",n,e),n}}}function Ke(s){return{kind:"validation",type:"ipv6",reference:Ke,async:!1,expects:null,requirement:z,message:s,_run(n,e){return n.typed&&!this.requirement.test(n.value)&&u(this,"IPv6",n,e),n}}}function $e(s){return{kind:"validation",type:"iso_date",reference:$e,async:!1,expects:null,requirement:F,message:s,_run(n,e){return n.typed&&!this.requirement.test(n.value)&&u(this,"date",n,e),n}}}function ze(s){return{kind:"validation",type:"iso_date_time",reference:ze,async:!1,expects:null,requirement:G,message:s,_run(n,e){return n.typed&&!this.requirement.test(n.value)&&u(this,"date-time",n,e),n}}}function Ue(s){return{kind:"validation",type:"iso_time",reference:Ue,async:!1,expects:null,requirement:X,message:s,_run(n,e){return n.typed&&!this.requirement.test(n.value)&&u(this,"time",n,e),n}}}function Fe(s){return{kind:"validation",type:"iso_time_second",reference:Fe,async:!1,expects:null,requirement:H,message:s,_run(n,e){return n.typed&&!this.requirement.test(n.value)&&u(this,"time-second",n,e),n}}}function Ge(s){return{kind:"validation",type:"iso_timestamp",reference:Ge,async:!1,expects:null,requirement:J,message:s,_run(n,e){return n.typed&&!this.requirement.test(n.value)&&u(this,"timestamp",n,e),n}}}function Xe(s){return{kind:"validation",type:"iso_week",reference:Xe,async:!1,expects:null,requirement:Z,message:s,_run(n,e){return n.typed&&!this.requirement.test(n.value)&&u(this,"week",n,e),n}}}function He(s,n){return{kind:"validation",type:"length",reference:He,async:!1,expects:`${s}`,requirement:s,message:n,_run(e,t){return e.typed&&e.value.length!==this.requirement&&u(this,"length",e,t,{received:`${e.value.length}`}),e}}}function Je(s){return{kind:"validation",type:"mac",reference:Je,async:!1,expects:null,requirement:ee,message:s,_run(n,e){return n.typed&&!this.requirement.test(n.value)&&u(this,"MAC",n,e),n}}}function Ze(s){return{kind:"validation",type:"mac48",reference:Ze,async:!1,expects:null,requirement:Q,message:s,_run(n,e){return n.typed&&!this.requirement.test(n.value)&&u(this,"48-bit MAC",n,e),n}}}function Qe(s){return{kind:"validation",type:"mac64",reference:Qe,async:!1,expects:null,requirement:Y,message:s,_run(n,e){return n.typed&&!this.requirement.test(n.value)&&u(this,"64-bit MAC",n,e),n}}}function Ye(s){return{kind:"transformation",type:"map_items",reference:Ye,async:!1,_run(n){return n.value=n.value.map(s),n}}}function en(s,n){return{kind:"validation",type:"max_bytes",reference:en,async:!1,expects:`<=${s}`,requirement:s,message:n,_run(e,t){if(e.typed){let r=new TextEncoder().encode(e.value).length;r>this.requirement&&u(this,"bytes",e,t,{received:`${r}`})}return e}}}function nn(s,n){return{kind:"validation",type:"max_length",reference:nn,async:!1,expects:`<=${s}`,requirement:s,message:n,_run(e,t){return e.typed&&e.value.length>this.requirement&&u(this,"length",e,t,{received:`${e.value.length}`}),e}}}function sn(s,n){return{kind:"validation",type:"max_size",reference:sn,async:!1,expects:`<=${s}`,requirement:s,message:n,_run(e,t){return e.typed&&e.value.size>this.requirement&&u(this,"size",e,t,{received:`${e.value.size}`}),e}}}function tn(s,n){return{kind:"validation",type:"max_value",reference:tn,async:!1,expects:`<=${s instanceof Date?s.toJSON():f(s)}`,requirement:s,message:n,_run(e,t){return e.typed&&e.value>this.requirement&&u(this,"value",e,t,{received:e.value instanceof Date?e.value.toJSON():f(e.value)}),e}}}function rn(s,n){return{kind:"validation",type:"mime_type",reference:rn,async:!1,expects:s.map(e=>`"${e}"`).join(" | ")||"never",requirement:s,message:n,_run(e,t){return e.typed&&!this.requirement.includes(e.value.type)&&u(this,"MIME type",e,t,{received:`"${e.value.type}"`}),e}}}function un(s,n){return{kind:"validation",type:"min_bytes",reference:un,async:!1,expects:`>=${s}`,requirement:s,message:n,_run(e,t){if(e.typed){let r=new TextEncoder().encode(e.value).length;r<this.requirement&&u(this,"bytes",e,t,{received:`${r}`})}return e}}}function an(s,n){return{kind:"validation",type:"min_length",reference:an,async:!1,expects:`>=${s}`,requirement:s,message:n,_run(e,t){return e.typed&&e.value.length<this.requirement&&u(this,"length",e,t,{received:`${e.value.length}`}),e}}}function on(s,n){return{kind:"validation",type:"min_size",reference:on,async:!1,expects:`>=${s}`,requirement:s,message:n,_run(e,t){return e.typed&&e.value.size<this.requirement&&u(this,"size",e,t,{received:`${e.value.size}`}),e}}}function pn(s,n){return{kind:"validation",type:"min_value",reference:pn,async:!1,expects:`>=${s instanceof Date?s.toJSON():f(s)}`,requirement:s,message:n,_run(e,t){return e.typed&&e.value<this.requirement&&u(this,"value",e,t,{received:e.value instanceof Date?e.value.toJSON():f(e.value)}),e}}}function cn(s,n){return{kind:"validation",type:"multiple_of",reference:cn,async:!1,expects:`%${s}`,requirement:s,message:n,_run(e,t){return e.typed&&e.value%this.requirement!==0&&u(this,"multiple",e,t),e}}}function In(s){return{kind:"validation",type:"non_empty",reference:In,async:!1,expects:"!0",message:s,_run(n,e){return n.typed&&n.value.length===0&&u(this,"length",n,e,{received:"0"}),n}}}function mn(s,n){return{kind:"validation",type:"not_bytes",reference:mn,async:!1,expects:`!${s}`,requirement:s,message:n,_run(e,t){if(e.typed){let r=new TextEncoder().encode(e.value).length;r===this.requirement&&u(this,"bytes",e,t,{received:`${r}`})}return e}}}function dn(s,n){return{kind:"validation",type:"not_length",reference:dn,async:!1,expects:`!${s}`,requirement:s,message:n,_run(e,t){return e.typed&&e.value.length===this.requirement&&u(this,"length",e,t,{received:`${e.value.length}`}),e}}}function fn(s,n){return{kind:"validation",type:"not_size",reference:fn,async:!1,expects:`!${s}`,requirement:s,message:n,_run(e,t){return e.typed&&e.value.size===this.requirement&&u(this,"size",e,t,{received:`${e.value.size}`}),e}}}function yn(s,n){return{kind:"validation",type:"not_value",reference:yn,async:!1,expects:s instanceof Date?`!${s.toJSON()}`:`!${f(s)}`,requirement:s,message:n,_run(e,t){return e.typed&&this.requirement<=e.value&&this.requirement>=e.value&&u(this,"value",e,t,{received:e.value instanceof Date?e.value.toJSON():f(e.value)}),e}}}function Tn(s){return{kind:"validation",type:"octal",reference:Tn,async:!1,expects:null,requirement:ne,message:s,_run(n,e){return n.typed&&!this.requirement.test(n.value)&&u(this,"octal",n,e),n}}}function M(s,n){if(s.issues){for(let e of n)for(let t of s.issues)if(t.kind==="schema"){let r=!1,o=Math.min(e.length,t.path?.length??0);for(let i=0;i<o;i++)if(e[i]!==t.path[i].key){r=!0;break}if(!r)return!1}}return!0}function ln(s,n,e){return{kind:"validation",type:"partial_check",reference:ln,async:!1,expects:null,requirement:n,message:e,_run(t,r){return M(t,s)&&!this.requirement(t.value)&&u(this,"input",t,r),t}}}function hn(s,n,e){return{kind:"validation",type:"partial_check",reference:hn,async:!0,expects:null,requirement:n,message:e,async _run(t,r){return M(t,s)&&!await this.requirement(t.value)&&u(this,"input",t,r),t}}}function xn(s){return{kind:"validation",type:"raw_check",reference:xn,async:!1,expects:null,_run(n,e){return s({dataset:n,config:e,addIssue:t=>u(this,t?.label??"input",n,e,t)}),n}}}function gn(s){return{kind:"validation",type:"raw_check",reference:gn,async:!0,expects:null,async _run(n,e){return await s({dataset:n,config:e,addIssue:t=>u(this,t?.label??"input",n,e,t)}),n}}}function kn(s){return{kind:"transformation",type:"raw_transform",reference:kn,async:!1,_run(n,e){let t=s({dataset:n,config:e,addIssue:r=>u(this,r?.label??"input",n,e,r),NEVER:null});return n.issues?n.typed=!1:n.value=t,n}}}function Sn(s){return{kind:"transformation",type:"raw_transform",reference:Sn,async:!0,async _run(n,e){let t=await s({dataset:n,config:e,addIssue:r=>u(this,r?.label??"input",n,e,r),NEVER:null});return n.issues?n.typed=!1:n.value=t,n}}}function wn(){return{kind:"transformation",type:"readonly",reference:wn,async:!1,_run(s){return s}}}function On(s,n){return{kind:"transformation",type:"reduce_items",reference:On,async:!1,_run(e){return e.value=e.value.reduce(s,n),e}}}function Bn(s,n){return{kind:"validation",type:"regex",reference:Bn,async:!1,expects:`${s}`,requirement:s,message:n,_run(e,t){return e.typed&&!this.requirement.test(e.value)&&u(this,"format",e,t),e}}}function bn(s){return{kind:"validation",type:"safe_integer",reference:bn,async:!1,expects:null,requirement:Number.isSafeInteger,message:s,_run(n,e){return n.typed&&!this.requirement(n.value)&&u(this,"safe integer",n,e),n}}}function En(s,n){return{kind:"validation",type:"size",reference:En,async:!1,expects:`${s}`,requirement:s,message:n,_run(e,t){return e.typed&&e.value.size!==this.requirement&&u(this,"size",e,t,{received:`${e.value.size}`}),e}}}function Mn(s,n){return{kind:"validation",type:"some_item",reference:Mn,async:!1,expects:null,requirement:s,message:n,_run(e,t){return e.typed&&!e.value.some(this.requirement)&&u(this,"item",e,t),e}}}function An(s){return{kind:"transformation",type:"sort_items",reference:An,async:!1,_run(n){return n.value=n.value.sort(s),n}}}function jn(s,n){return{kind:"validation",type:"starts_with",reference:jn,async:!1,expects:`"${s}"`,requirement:s,message:n,_run(e,t){return e.typed&&!e.value.startsWith(this.requirement)&&u(this,"start",e,t,{received:`"${e.value.slice(0,this.requirement.length)}"`}),e}}}function vn(){return{kind:"transformation",type:"to_lower_case",reference:vn,async:!1,_run(s){return s.value=s.value.toLowerCase(),s}}}function Rn(s){return{kind:"transformation",type:"to_max_value",reference:Rn,async:!1,requirement:s,_run(n){return n.value=n.value>this.requirement?this.requirement:n.value,n}}}function _n(s){return{kind:"transformation",type:"to_min_value",reference:_n,async:!1,requirement:s,_run(n){return n.value=n.value<this.requirement?this.requirement:n.value,n}}}function Pn(){return{kind:"transformation",type:"to_upper_case",reference:Pn,async:!1,_run(s){return s.value=s.value.toUpperCase(),s}}}function qn(s){return{kind:"transformation",type:"transform",reference:qn,async:!1,action:s,_run(n){return n.value=s(n.value),n}}}function Dn(s){return{kind:"transformation",type:"transform",reference:Dn,async:!0,action:s,async _run(n){return n.value=await s(n.value),n}}}function Nn(){return{kind:"transformation",type:"trim",reference:Nn,async:!1,_run(s){return s.value=s.value.trim(),s}}}function Wn(){return{kind:"transformation",type:"trim_end",reference:Wn,async:!1,_run(s){return s.value=s.value.trimEnd(),s}}}function Vn(){return{kind:"transformation",type:"trim_start",reference:Vn,async:!1,_run(s){return s.value=s.value.trimStart(),s}}}function Cn(s){return{kind:"validation",type:"ulid",reference:Cn,async:!1,expects:null,requirement:se,message:s,_run(n,e){return n.typed&&!this.requirement.test(n.value)&&u(this,"ULID",n,e),n}}}function Ln(s){return{kind:"validation",type:"url",reference:Ln,async:!1,expects:null,requirement(n){try{return new URL(n),!0}catch{return!1}},message:s,_run(n,e){return n.typed&&!this.requirement(n.value)&&u(this,"URL",n,e),n}}}function Kn(s){return{kind:"validation",type:"uuid",reference:Kn,async:!1,expects:null,requirement:te,message:s,_run(n,e){return n.typed&&!this.requirement.test(n.value)&&u(this,"UUID",n,e),n}}}function $n(s,n){return{kind:"validation",type:"value",reference:$n,async:!1,expects:s instanceof Date?s.toJSON():f(s),requirement:s,message:n,_run(e,t){return e.typed&&!(this.requirement<=e.value&&this.requirement>=e.value)&&u(this,"value",e,t,{received:e.value instanceof Date?e.value.toJSON():f(e.value)}),e}}}function ht(s,n){return{...s,_run(e,t){return s._run(e,{...t,...n})}}}function x(s,n,e){return typeof s.fallback=="function"?s.fallback(n,e):s.fallback}function xt(s,n){return{...s,fallback:n,_run(e,t){return s._run(e,t),e.issues?{typed:!0,value:x(this,e,t)}:e}}}function gt(s,n){return{...s,fallback:n,async:!0,async _run(e,t){return s._run(e,t),e.issues?{typed:!0,value:await x(this,e,t)}:e}}}function kt(s){let n={};for(let e of s)if(e.path){let t=oe(e);t?(n.nested||(n.nested={}),n.nested[t]?n.nested[t].push(e.message):n.nested[t]=[e.message]):n.other?n.other.push(e.message):n.other=[e.message]}else n.root?n.root.push(e.message):n.root=[e.message];return n}function St(s,n){return{...s,_run(e,t){let r=e.issues&&[...e.issues];if(s._run(e,t),e.issues){for(let o of e.issues)if(!r?.includes(o)){let i=e.value;for(let p of n){let a=i[p],c={type:"unknown",origin:"value",input:i,key:p,value:a};if(o.path?o.path.push(c):o.path=[c],!a)break;i=a}}}return e}}}function wt(s,n){return{...s,async:!0,async _run(e,t){let r=e.issues&&[...e.issues];if(await s._run(e,t),e.issues){for(let o of e.issues)if(!r?.includes(o)){let i=e.value;for(let p of n){let a=i[p],c={type:"unknown",origin:"value",input:i,key:p,value:a};if(o.path?o.path.push(c):o.path=[c],!a)break;i=a}}}return e}}}function y(s,n,e){return typeof s.default=="function"?s.default(n,e):s.default}function ie(s){if("entries"in s){let n={};for(let e in s.entries)n[e]=ie(s.entries[e]);return n}return"items"in s?s.items.map(ie):y(s)}async function pe(s){return"entries"in s?Object.fromEntries(await Promise.all(Object.entries(s.entries).map(async([n,e])=>[n,await pe(e)]))):"items"in s?Promise.all(s.items.map(pe)):y(s)}function ce(s){if("entries"in s){let n={};for(let e in s.entries)n[e]=ce(s.entries[e]);return n}return"items"in s?s.items.map(ce):x(s)}async function Ie(s){return"entries"in s?Object.fromEntries(await Promise.all(Object.entries(s.entries).map(async([n,e])=>[n,await Ie(e)]))):"items"in s?Promise.all(s.items.map(Ie)):x(s)}function Ot(s,n){return!s._run({typed:!1,value:n},{abortEarly:!0}).issues}function zn(){return{kind:"schema",type:"any",reference:zn,expects:"any",async:!1,_run(s){return s.typed=!0,s}}}function Un(s,n){return{kind:"schema",type:"array",reference:Un,expects:"Array",async:!1,item:s,message:n,_run(e,t){let r=e.value;if(Array.isArray(r)){e.typed=!0,e.value=[];for(let o=0;o<r.length;o++){let i=r[o],p=this.item._run({typed:!1,value:i},t);if(p.issues){let a={type:"array",origin:"value",input:r,key:o,value:i};for(let c of p.issues)c.path?c.path.unshift(a):c.path=[a],e.issues?.push(c);if(e.issues||(e.issues=p.issues),t.abortEarly){e.typed=!1;break}}p.typed||(e.typed=!1),e.value.push(p.value)}}else u(this,"type",e,t);return e}}}function Fn(s,n){return{kind:"schema",type:"array",reference:Fn,expects:"Array",async:!0,item:s,message:n,async _run(e,t){let r=e.value;if(Array.isArray(r)){e.typed=!0,e.value=[];let o=await Promise.all(r.map(i=>this.item._run({typed:!1,value:i},t)));for(let i=0;i<o.length;i++){let p=o[i];if(p.issues){let a={type:"array",origin:"value",input:r,key:i,value:r[i]};for(let c of p.issues)c.path?c.path.unshift(a):c.path=[a],e.issues?.push(c);if(e.issues||(e.issues=p.issues),t.abortEarly){e.typed=!1;break}}p.typed||(e.typed=!1),e.value.push(p.value)}}else u(this,"type",e,t);return e}}}function Gn(s){return{kind:"schema",type:"bigint",reference:Gn,expects:"bigint",async:!1,message:s,_run(n,e){return typeof n.value=="bigint"?n.typed=!0:u(this,"type",n,e),n}}}function Xn(s){return{kind:"schema",type:"blob",reference:Xn,expects:"Blob",async:!1,message:s,_run(n,e){return n.value instanceof Blob?n.typed=!0:u(this,"type",n,e),n}}}function Hn(s){return{kind:"schema",type:"boolean",reference:Hn,expects:"boolean",async:!1,message:s,_run(n,e){return typeof n.value=="boolean"?n.typed=!0:u(this,"type",n,e),n}}}function Jn(s,n){return{kind:"schema",type:"custom",reference:Jn,expects:"unknown",async:!1,check:s,message:n,_run(e,t){return this.check(e.value)?e.typed=!0:u(this,"type",e,t),e}}}function Zn(s,n){return{kind:"schema",type:"custom",reference:Zn,expects:"unknown",async:!0,check:s,message:n,async _run(e,t){return await this.check(e.value)?e.typed=!0:u(this,"type",e,t),e}}}function Qn(s){return{kind:"schema",type:"date",reference:Qn,expects:"Date",async:!1,message:s,_run(n,e){return n.value instanceof Date?isNaN(n.value)?u(this,"type",n,e,{received:'"Invalid Date"'}):n.typed=!0:u(this,"type",n,e),n}}}function Yn(s,n){let e=Object.entries(s).filter(([t])=>isNaN(+t)).map(([,t])=>t);return{kind:"schema",type:"enum",reference:Yn,expects:e.map(f).join(" | ")||"never",async:!1,enum:s,options:e,message:n,_run(t,r){return this.options.includes(t.value)?t.typed=!0:u(this,"type",t,r),t}}}function es(s,n){return{kind:"schema",type:"instance",reference:es,expects:s.name,async:!1,class:s,message:n,_run(e,t){return e.value instanceof this.class?e.typed=!0:u(this,"type",e,t),e}}}function S(s,n){if(typeof s==typeof n){if(s===n||s instanceof Date&&n instanceof Date&&+s==+n)return{value:s};if(s&&n&&s.constructor===Object&&n.constructor===Object){for(let e in n)if(e in s){let t=S(s[e],n[e]);if(t.issue)return t;s[e]=t.value}else s[e]=n[e];return{value:s}}if(Array.isArray(s)&&Array.isArray(n)&&s.length===n.length){for(let e=0;e<s.length;e++){let t=S(s[e],n[e]);if(t.issue)return t;s[e]=t.value}return{value:s}}}return{issue:!0}}function ns(s,n){return{kind:"schema",type:"intersect",reference:ns,expects:[...new Set(s.map(e=>e.expects))].join(" & ")||"never",async:!1,options:s,message:n,_run(e,t){if(this.options.length){let r=e.value,o;e.typed=!0;for(let i of this.options){let p=i._run({typed:!1,value:r},t);if(p.issues&&(e.issues?e.issues.push(...p.issues):e.issues=p.issues,t.abortEarly)){e.typed=!1;break}p.typed||(e.typed=!1),e.typed&&(o?o.push(p.value):o=[p.value])}if(e.typed){e.value=o[0];for(let i=1;i<o.length;i++){let p=S(e.value,o[i]);if(p.issue){u(this,"type",e,t,{received:"unknown"});break}e.value=p.value}}}else u(this,"type",e,t);return e}}}function ss(s,n){return{kind:"schema",type:"intersect",reference:ss,expects:[...new Set(s.map(e=>e.expects))].join(" & ")||"never",async:!0,options:s,message:n,async _run(e,t){if(this.options.length){let r=e.value,o;e.typed=!0;let i=await Promise.all(this.options.map(p=>p._run({typed:!1,value:r},t)));for(let p of i){if(p.issues&&(e.issues?e.issues.push(...p.issues):e.issues=p.issues,t.abortEarly)){e.typed=!1;break}p.typed||(e.typed=!1),e.typed&&(o?o.push(p.value):o=[p.value])}if(e.typed){e.value=o[0];for(let p=1;p<o.length;p++){let a=S(e.value,o[p]);if(a.issue){u(this,"type",e,t,{received:"unknown"});break}e.value=a.value}}}else u(this,"type",e,t);return e}}}function ts(s){return{kind:"schema",type:"lazy",reference:ts,expects:"unknown",async:!1,getter:s,_run(n,e){return this.getter(n.value)._run(n,e)}}}function rs(s){return{kind:"schema",type:"lazy",reference:rs,expects:"unknown",async:!0,getter:s,async _run(n,e){return(await this.getter(n.value))._run(n,e)}}}function us(s,n){return{kind:"schema",type:"literal",reference:us,expects:f(s),async:!1,literal:s,message:n,_run(e,t){return e.value===this.literal?e.typed=!0:u(this,"type",e,t),e}}}function as(s,n){return{kind:"schema",type:"loose_object",reference:as,expects:"Object",async:!1,entries:s,message:n,_run(e,t){let r=e.value;if(r&&typeof r=="object"){e.typed=!0,e.value={};for(let o in this.entries){let i=r[o],p=this.entries[o]._run({typed:!1,value:i},t);if(p.issues){let a={type:"object",origin:"value",input:r,key:o,value:i};for(let c of p.issues)c.path?c.path.unshift(a):c.path=[a],e.issues?.push(c);if(e.issues||(e.issues=p.issues),t.abortEarly){e.typed=!1;break}}p.typed||(e.typed=!1),(p.value!==void 0||o in r)&&(e.value[o]=p.value)}if(!e.issues||!t.abortEarly)for(let o in r)T(r,o)&&!(o in this.entries)&&(e.value[o]=r[o])}else u(this,"type",e,t);return e}}}function os(s,n){return{kind:"schema",type:"loose_object",reference:os,expects:"Object",async:!0,entries:s,message:n,async _run(e,t){let r=e.value;if(r&&typeof r=="object"){e.typed=!0,e.value={};let o=await Promise.all(Object.entries(this.entries).map(async([i,p])=>{let a=r[i];return[i,a,await p._run({typed:!1,value:a},t)]}));for(let[i,p,a]of o){if(a.issues){let c={type:"object",origin:"value",input:r,key:i,value:p};for(let I of a.issues)I.path?I.path.unshift(c):I.path=[c],e.issues?.push(I);if(e.issues||(e.issues=a.issues),t.abortEarly){e.typed=!1;break}}a.typed||(e.typed=!1),(a.value!==void 0||i in r)&&(e.value[i]=a.value)}if(!e.issues||!t.abortEarly)for(let i in r)T(r,i)&&!(i in this.entries)&&(e.value[i]=r[i])}else u(this,"type",e,t);return e}}}function is(s,n){return{kind:"schema",type:"loose_tuple",reference:is,expects:"Array",async:!1,items:s,message:n,_run(e,t){let r=e.value;if(Array.isArray(r)){e.typed=!0,e.value=[];for(let o=0;o<this.items.length;o++){let i=r[o],p=this.items[o]._run({typed:!1,value:i},t);if(p.issues){let a={type:"array",origin:"value",input:r,key:o,value:i};for(let c of p.issues)c.path?c.path.unshift(a):c.path=[a],e.issues?.push(c);if(e.issues||(e.issues=p.issues),t.abortEarly){e.typed=!1;break}}p.typed||(e.typed=!1),e.value.push(p.value)}if(!e.issues||!t.abortEarly)for(let o=this.items.length;o<r.length;o++)e.value.push(r[o])}else u(this,"type",e,t);return e}}}function ps(s,n){return{kind:"schema",type:"loose_tuple",reference:ps,expects:"Array",async:!0,items:s,message:n,async _run(e,t){let r=e.value;if(Array.isArray(r)){e.typed=!0,e.value=[];let o=await Promise.all(this.items.map(async(i,p)=>{let a=r[p];return[p,a,await i._run({typed:!1,value:a},t)]}));for(let[i,p,a]of o){if(a.issues){let c={type:"array",origin:"value",input:r,key:i,value:p};for(let I of a.issues)I.path?I.path.unshift(c):I.path=[c],e.issues?.push(I);if(e.issues||(e.issues=a.issues),t.abortEarly){e.typed=!1;break}}a.typed||(e.typed=!1),e.value.push(a.value)}if(!e.issues||!t.abortEarly)for(let i=this.items.length;i<r.length;i++)e.value.push(r[i])}else u(this,"type",e,t);return e}}}function cs(s,n,e){return{kind:"schema",type:"map",reference:cs,expects:"Map",async:!1,key:s,value:n,message:e,_run(t,r){let o=t.value;if(o instanceof Map){t.typed=!0,t.value=new Map;for(let[i,p]of o){let a=this.key._run({typed:!1,value:i},r);if(a.issues){let I={type:"map",origin:"key",input:o,key:i,value:p};for(let m of a.issues)m.path?m.path.unshift(I):m.path=[I],t.issues?.push(m);if(t.issues||(t.issues=a.issues),r.abortEarly){t.typed=!1;break}}let c=this.value._run({typed:!1,value:p},r);if(c.issues){let I={type:"map",origin:"value",input:o,key:i,value:p};for(let m of c.issues)m.path?m.path.unshift(I):m.path=[I],t.issues?.push(m);if(t.issues||(t.issues=c.issues),r.abortEarly){t.typed=!1;break}}(!a.typed||!c.typed)&&(t.typed=!1),t.value.set(a.value,c.value)}}else u(this,"type",t,r);return t}}}function Is(s,n,e){return{kind:"schema",type:"map",reference:Is,expects:"Map",async:!0,key:s,value:n,message:e,async _run(t,r){let o=t.value;if(o instanceof Map){t.typed=!0,t.value=new Map;let i=await Promise.all([...o].map(([p,a])=>Promise.all([p,a,this.key._run({typed:!1,value:p},r),this.value._run({typed:!1,value:a},r)])));for(let[p,a,c,I]of i){if(c.issues){let m={type:"map",origin:"key",input:o,key:p,value:a};for(let d of c.issues)d.path?d.path.unshift(m):d.path=[m],t.issues?.push(d);if(t.issues||(t.issues=c.issues),r.abortEarly){t.typed=!1;break}}if(I.issues){let m={type:"map",origin:"value",input:o,key:p,value:a};for(let d of I.issues)d.path?d.path.unshift(m):d.path=[m],t.issues?.push(d);if(t.issues||(t.issues=I.issues),r.abortEarly){t.typed=!1;break}}(!c.typed||!I.typed)&&(t.typed=!1),t.value.set(c.value,I.value)}}else u(this,"type",t,r);return t}}}function ms(s){return{kind:"schema",type:"nan",reference:ms,expects:"NaN",async:!1,message:s,_run(n,e){return Number.isNaN(n.value)?n.typed=!0:u(this,"type",n,e),n}}}function ds(s){return{kind:"schema",type:"never",reference:ds,expects:"never",async:!1,message:s,_run(n,e){return u(this,"type",n,e),n}}}function fs(s,n){return{kind:"schema",type:"non_nullable",reference:fs,expects:"!null",async:!1,wrapped:s,message:n,_run(e,t){return e.value===null?(u(this,"type",e,t),e):this.wrapped._run(e,t)}}}function ys(s,n){return{kind:"schema",type:"non_nullable",reference:ys,expects:"!null",async:!0,wrapped:s,message:n,async _run(e,t){return e.value===null?(u(this,"type",e,t),e):this.wrapped._run(e,t)}}}function Ts(s,n){return{kind:"schema",type:"non_nullish",reference:Ts,expects:"!null & !undefined",async:!1,wrapped:s,message:n,_run(e,t){return e.value===null||e.value===void 0?(u(this,"type",e,t),e):this.wrapped._run(e,t)}}}function ls(s,n){return{kind:"schema",type:"non_nullish",reference:ls,expects:"!null & !undefined",async:!0,wrapped:s,message:n,async _run(e,t){return e.value===null||e.value===void 0?(u(this,"type",e,t),e):this.wrapped._run(e,t)}}}function A(s,n){return{kind:"schema",type:"non_optional",reference:A,expects:"!undefined",async:!1,wrapped:s,message:n,_run(e,t){return e.value===void 0?(u(this,"type",e,t),e):this.wrapped._run(e,t)}}}function j(s,n){return{kind:"schema",type:"non_optional",reference:j,expects:"!undefined",async:!0,wrapped:s,message:n,async _run(e,t){return e.value===void 0?(u(this,"type",e,t),e):this.wrapped._run(e,t)}}}function hs(s){return{kind:"schema",type:"null",reference:hs,expects:"null",async:!1,message:s,_run(n,e){return n.value===null?n.typed=!0:u(this,"type",n,e),n}}}function xs(s,...n){let e={kind:"schema",type:"nullable",reference:xs,expects:`${s.expects} | null`,async:!1,wrapped:s,_run(t,r){return t.value===null&&("default"in this&&(t.value=y(this,t,r)),t.value===null)?(t.typed=!0,t):this.wrapped._run(t,r)}};return 0 in n&&(e.default=n[0]),e}function gs(s,...n){let e={kind:"schema",type:"nullable",reference:gs,expects:`${s.expects} | null`,async:!0,wrapped:s,async _run(t,r){return t.value===null&&("default"in this&&(t.value=await y(this,t,r)),t.value===null)?(t.typed=!0,t):this.wrapped._run(t,r)}};return 0 in n&&(e.default=n[0]),e}function ks(s,...n){let e={kind:"schema",type:"nullish",reference:ks,expects:`${s.expects} | null | undefined`,async:!1,wrapped:s,_run(t,r){return(t.value===null||t.value===void 0)&&("default"in this&&(t.value=y(this,t,r)),t.value===null||t.value===void 0)?(t.typed=!0,t):this.wrapped._run(t,r)}};return 0 in n&&(e.default=n[0]),e}function Ss(s,...n){let e={kind:"schema",type:"nullish",reference:Ss,expects:`${s.expects} | null | undefined`,async:!0,wrapped:s,async _run(t,r){return(t.value===null||t.value===void 0)&&("default"in this&&(t.value=await y(this,t,r)),t.value===null||t.value===void 0)?(t.typed=!0,t):this.wrapped._run(t,r)}};return 0 in n&&(e.default=n[0]),e}function ws(s){return{kind:"schema",type:"number",reference:ws,expects:"number",async:!1,message:s,_run(n,e){return typeof n.value=="number"&&!isNaN(n.value)?n.typed=!0:u(this,"type",n,e),n}}}function Os(s,n){return{kind:"schema",type:"object",reference:Os,expects:"Object",async:!1,entries:s,message:n,_run(e,t){let r=e.value;if(r&&typeof r=="object"){e.typed=!0,e.value={};for(let o in this.entries){let i=r[o],p=this.entries[o]._run({typed:!1,value:i},t);if(p.issues){let a={type:"object",origin:"value",input:r,key:o,value:i};for(let c of p.issues)c.path?c.path.unshift(a):c.path=[a],e.issues?.push(c);if(e.issues||(e.issues=p.issues),t.abortEarly){e.typed=!1;break}}p.typed||(e.typed=!1),(p.value!==void 0||o in r)&&(e.value[o]=p.value)}}else u(this,"type",e,t);return e}}}function Bs(s,n){return{kind:"schema",type:"object",reference:Bs,expects:"Object",async:!0,entries:s,message:n,async _run(e,t){let r=e.value;if(r&&typeof r=="object"){e.typed=!0,e.value={};let o=await Promise.all(Object.entries(this.entries).map(async([i,p])=>{let a=r[i];return[i,a,await p._run({typed:!1,value:a},t)]}));for(let[i,p,a]of o){if(a.issues){let c={type:"object",origin:"value",input:r,key:i,value:p};for(let I of a.issues)I.path?I.path.unshift(c):I.path=[c],e.issues?.push(I);if(e.issues||(e.issues=a.issues),t.abortEarly){e.typed=!1;break}}a.typed||(e.typed=!1),(a.value!==void 0||i in r)&&(e.value[i]=a.value)}}else u(this,"type",e,t);return e}}}function bs(s,n,e){return{kind:"schema",type:"object_with_rest",reference:bs,expects:"Object",async:!1,entries:s,rest:n,message:e,_run(t,r){let o=t.value;if(o&&typeof o=="object"){t.typed=!0,t.value={};for(let i in this.entries){let p=o[i],a=this.entries[i]._run({typed:!1,value:p},r);if(a.issues){let c={type:"object",origin:"value",input:o,key:i,value:p};for(let I of a.issues)I.path?I.path.unshift(c):I.path=[c],t.issues?.push(I);if(t.issues||(t.issues=a.issues),r.abortEarly){t.typed=!1;break}}a.typed||(t.typed=!1),(a.value!==void 0||i in o)&&(t.value[i]=a.value)}if(!t.issues||!r.abortEarly){for(let i in o)if(T(o,i)&&!(i in this.entries)){let p=o[i],a=this.rest._run({typed:!1,value:p},r);if(a.issues){let c={type:"object",origin:"value",input:o,key:i,value:p};for(let I of a.issues)I.path?I.path.unshift(c):I.path=[c],t.issues?.push(I);if(t.issues||(t.issues=a.issues),r.abortEarly){t.typed=!1;break}}a.typed||(t.typed=!1),t.value[i]=a.value}}}else u(this,"type",t,r);return t}}}function Es(s,n,e){return{kind:"schema",type:"object_with_rest",reference:Es,expects:"Object",async:!0,entries:s,rest:n,message:e,async _run(t,r){let o=t.value;if(o&&typeof o=="object"){t.typed=!0,t.value={};let[i,p]=await Promise.all([Promise.all(Object.entries(this.entries).map(async([a,c])=>{let I=o[a];return[a,I,await c._run({typed:!1,value:I},r)]})),Promise.all(Object.entries(o).filter(([a])=>T(o,a)&&!(a in this.entries)).map(async([a,c])=>[a,c,await this.rest._run({typed:!1,value:c},r)]))]);for(let[a,c,I]of i){if(I.issues){let m={type:"object",origin:"value",input:o,key:a,value:c};for(let d of I.issues)d.path?d.path.unshift(m):d.path=[m],t.issues?.push(d);if(t.issues||(t.issues=I.issues),r.abortEarly){t.typed=!1;break}}I.typed||(t.typed=!1),(I.value!==void 0||a in o)&&(t.value[a]=I.value)}if(!t.issues||!r.abortEarly)for(let[a,c,I]of p){if(I.issues){let m={type:"object",origin:"value",input:o,key:a,value:c};for(let d of I.issues)d.path?d.path.unshift(m):d.path=[m],t.issues?.push(d);if(t.issues||(t.issues=I.issues),r.abortEarly){t.typed=!1;break}}I.typed||(t.typed=!1),t.value[a]=I.value}}else u(this,"type",t,r);return t}}}function v(s,...n){let e={kind:"schema",type:"optional",reference:v,expects:`${s.expects} | undefined`,async:!1,wrapped:s,_run(t,r){return t.value===void 0&&("default"in this&&(t.value=y(this,t,r)),t.value===void 0)?(t.typed=!0,t):this.wrapped._run(t,r)}};return 0 in n&&(e.default=n[0]),e}function R(s,...n){let e={kind:"schema",type:"optional",reference:R,expects:`${s.expects} | undefined`,async:!0,wrapped:s,async _run(t,r){return t.value===void 0&&("default"in this&&(t.value=await y(this,t,r)),t.value===void 0)?(t.typed=!0,t):this.wrapped._run(t,r)}};return 0 in n&&(e.default=n[0]),e}function _(s,n){return{kind:"schema",type:"picklist",reference:_,expects:s.map(f).join(" | ")||"never",async:!1,options:s,message:n,_run(e,t){return this.options.includes(e.value)?e.typed=!0:u(this,"type",e,t),e}}}function Ms(s,n,e){return{kind:"schema",type:"record",reference:Ms,expects:"Object",async:!1,key:s,value:n,message:e,_run(t,r){let o=t.value;if(o&&typeof o=="object"){t.typed=!0,t.value={};for(let i in o)if(T(o,i)){let p=o[i],a=this.key._run({typed:!1,value:i},r);if(a.issues){let I={type:"object",origin:"key",input:o,key:i,value:p};for(let m of a.issues)m.path=[I],t.issues?.push(m);if(t.issues||(t.issues=a.issues),r.abortEarly){t.typed=!1;break}}let c=this.value._run({typed:!1,value:p},r);if(c.issues){let I={type:"object",origin:"value",input:o,key:i,value:p};for(let m of c.issues)m.path?m.path.unshift(I):m.path=[I],t.issues?.push(m);if(t.issues||(t.issues=c.issues),r.abortEarly){t.typed=!1;break}}(!a.typed||!c.typed)&&(t.typed=!1),a.typed&&(t.value[a.value]=c.value)}}else u(this,"type",t,r);return t}}}function As(s,n,e){return{kind:"schema",type:"record",reference:As,expects:"Object",async:!0,key:s,value:n,message:e,async _run(t,r){let o=t.value;if(o&&typeof o=="object"){t.typed=!0,t.value={};let i=await Promise.all(Object.entries(o).filter(([p])=>T(o,p)).map(([p,a])=>Promise.all([p,a,this.key._run({typed:!1,value:p},r),this.value._run({typed:!1,value:a},r)])));for(let[p,a,c,I]of i){if(c.issues){let m={type:"object",origin:"key",input:o,key:p,value:a};for(let d of c.issues)d.path=[m],t.issues?.push(d);if(t.issues||(t.issues=c.issues),r.abortEarly){t.typed=!1;break}}if(I.issues){let m={type:"object",origin:"value",input:o,key:p,value:a};for(let d of I.issues)d.path?d.path.unshift(m):d.path=[m],t.issues?.push(d);if(t.issues||(t.issues=I.issues),r.abortEarly){t.typed=!1;break}}(!c.typed||!I.typed)&&(t.typed=!1),c.typed&&(t.value[c.value]=I.value)}}else u(this,"type",t,r);return t}}}function js(s,n){return{kind:"schema",type:"set",reference:js,expects:"Set",async:!1,value:s,message:n,_run(e,t){let r=e.value;if(r instanceof Set){e.typed=!0,e.value=new Set;for(let o of r){let i=this.value._run({typed:!1,value:o},t);if(i.issues){let p={type:"set",origin:"value",input:r,value:o};for(let a of i.issues)a.path?a.path.unshift(p):a.path=[p],e.issues?.push(a);if(e.issues||(e.issues=i.issues),t.abortEarly){e.typed=!1;break}}i.typed||(e.typed=!1),e.value.add(i.value)}}else u(this,"type",e,t);return e}}}function vs(s,n){return{kind:"schema",type:"set",reference:vs,expects:"Set",async:!0,value:s,message:n,async _run(e,t){let r=e.value;if(r instanceof Set){e.typed=!0,e.value=new Set;let o=await Promise.all([...r].map(async i=>[i,await this.value._run({typed:!1,value:i},t)]));for(let[i,p]of o){if(p.issues){let a={type:"set",origin:"value",input:r,value:i};for(let c of p.issues)c.path?c.path.unshift(a):c.path=[a],e.issues?.push(c);if(e.issues||(e.issues=p.issues),t.abortEarly){e.typed=!1;break}}p.typed||(e.typed=!1),e.value.add(p.value)}}else u(this,"type",e,t);return e}}}function Rs(s,n){return{kind:"schema",type:"strict_object",reference:Rs,expects:"Object",async:!1,entries:s,message:n,_run(e,t){let r=e.value;if(r&&typeof r=="object"){e.typed=!0,e.value={};for(let o in this.entries){let i=r[o],p=this.entries[o]._run({typed:!1,value:i},t);if(p.issues){let a={type:"object",origin:"value",input:r,key:o,value:i};for(let c of p.issues)c.path?c.path.unshift(a):c.path=[a],e.issues?.push(c);if(e.issues||(e.issues=p.issues),t.abortEarly){e.typed=!1;break}}p.typed||(e.typed=!1),(p.value!==void 0||o in r)&&(e.value[o]=p.value)}if(!e.issues||!t.abortEarly){for(let o in r)if(!(o in this.entries)){let i=r[o];u(this,"type",e,t,{input:i,expected:"never",path:[{type:"object",origin:"value",input:r,key:o,value:i}]});break}}}else u(this,"type",e,t);return e}}}function _s(s,n){return{kind:"schema",type:"strict_object",reference:_s,expects:"Object",async:!0,entries:s,message:n,async _run(e,t){let r=e.value;if(r&&typeof r=="object"){e.typed=!0,e.value={};let o=await Promise.all(Object.entries(this.entries).map(async([i,p])=>{let a=r[i];return[i,a,await p._run({typed:!1,value:a},t)]}));for(let[i,p,a]of o){if(a.issues){let c={type:"object",origin:"value",input:r,key:i,value:p};for(let I of a.issues)I.path?I.path.unshift(c):I.path=[c],e.issues?.push(I);if(e.issues||(e.issues=a.issues),t.abortEarly){e.typed=!1;break}}a.typed||(e.typed=!1),(a.value!==void 0||i in r)&&(e.value[i]=a.value)}if(!e.issues||!t.abortEarly){for(let i in r)if(!(i in this.entries)){let p=r[i];u(this,"type",e,t,{input:p,expected:"never",path:[{type:"object",origin:"value",input:r,key:i,value:p}]});break}}}else u(this,"type",e,t);return e}}}function Ps(s,n){return{kind:"schema",type:"strict_tuple",reference:Ps,expects:"Array",async:!1,items:s,message:n,_run(e,t){let r=e.value;if(Array.isArray(r)){e.typed=!0,e.value=[];for(let o=0;o<this.items.length;o++){let i=r[o],p=this.items[o]._run({typed:!1,value:i},t);if(p.issues){let a={type:"array",origin:"value",input:r,key:o,value:i};for(let c of p.issues)c.path?c.path.unshift(a):c.path=[a],e.issues?.push(c);if(e.issues||(e.issues=p.issues),t.abortEarly){e.typed=!1;break}}p.typed||(e.typed=!1),e.value.push(p.value)}if(!(e.issues&&t.abortEarly)&&this.items.length<r.length){let o=r[s.length];u(this,"type",e,t,{input:o,expected:"never",path:[{type:"array",origin:"value",input:r,key:this.items.length,value:o}]})}}else u(this,"type",e,t);return e}}}function qs(s,n){return{kind:"schema",type:"strict_tuple",reference:qs,expects:"Array",async:!0,items:s,message:n,async _run(e,t){let r=e.value;if(Array.isArray(r)){e.typed=!0,e.value=[];let o=await Promise.all(this.items.map(async(i,p)=>{let a=r[p];return[p,a,await i._run({typed:!1,value:a},t)]}));for(let[i,p,a]of o){if(a.issues){let c={type:"array",origin:"value",input:r,key:i,value:p};for(let I of a.issues)I.path?I.path.unshift(c):I.path=[c],e.issues?.push(I);if(e.issues||(e.issues=a.issues),t.abortEarly){e.typed=!1;break}}a.typed||(e.typed=!1),e.value.push(a.value)}if(!(e.issues&&t.abortEarly)&&this.items.length<r.length){let i=r[s.length];u(this,"type",e,t,{input:i,expected:"never",path:[{type:"array",origin:"value",input:r,key:this.items.length,value:i}]})}}else u(this,"type",e,t);return e}}}function Ds(s){return{kind:"schema",type:"string",reference:Ds,expects:"string",async:!1,message:s,_run(n,e){return typeof n.value=="string"?n.typed=!0:u(this,"type",n,e),n}}}function Ns(s){return{kind:"schema",type:"symbol",reference:Ns,expects:"symbol",async:!1,message:s,_run(n,e){return typeof n.value=="symbol"?n.typed=!0:u(this,"type",n,e),n}}}function Ws(s,n){return{kind:"schema",type:"tuple",reference:Ws,expects:"Array",async:!1,items:s,message:n,_run(e,t){let r=e.value;if(Array.isArray(r)){e.typed=!0,e.value=[];for(let o=0;o<this.items.length;o++){let i=r[o],p=this.items[o]._run({typed:!1,value:i},t);if(p.issues){let a={type:"array",origin:"value",input:r,key:o,value:i};for(let c of p.issues)c.path?c.path.unshift(a):c.path=[a],e.issues?.push(c);if(e.issues||(e.issues=p.issues),t.abortEarly){e.typed=!1;break}}p.typed||(e.typed=!1),e.value.push(p.value)}}else u(this,"type",e,t);return e}}}function Vs(s,n){return{kind:"schema",type:"tuple",reference:Vs,expects:"Array",async:!0,items:s,message:n,async _run(e,t){let r=e.value;if(Array.isArray(r)){e.typed=!0,e.value=[];let o=await Promise.all(this.items.map(async(i,p)=>{let a=r[p];return[p,a,await i._run({typed:!1,value:a},t)]}));for(let[i,p,a]of o){if(a.issues){let c={type:"array",origin:"value",input:r,key:i,value:p};for(let I of a.issues)I.path?I.path.unshift(c):I.path=[c],e.issues?.push(I);if(e.issues||(e.issues=a.issues),t.abortEarly){e.typed=!1;break}}a.typed||(e.typed=!1),e.value.push(a.value)}}else u(this,"type",e,t);return e}}}function Cs(s,n,e){return{kind:"schema",type:"tuple_with_rest",reference:Cs,expects:"Array",async:!1,items:s,rest:n,message:e,_run(t,r){let o=t.value;if(Array.isArray(o)){t.typed=!0,t.value=[];for(let i=0;i<this.items.length;i++){let p=o[i],a=this.items[i]._run({typed:!1,value:p},r);if(a.issues){let c={type:"array",origin:"value",input:o,key:i,value:p};for(let I of a.issues)I.path?I.path.unshift(c):I.path=[c],t.issues?.push(I);if(t.issues||(t.issues=a.issues),r.abortEarly){t.typed=!1;break}}a.typed||(t.typed=!1),t.value.push(a.value)}if(!t.issues||!r.abortEarly)for(let i=this.items.length;i<o.length;i++){let p=o[i],a=this.rest._run({typed:!1,value:p},r);if(a.issues){let c={type:"array",origin:"value",input:o,key:i,value:p};for(let I of a.issues)I.path?I.path.unshift(c):I.path=[c],t.issues?.push(I);if(t.issues||(t.issues=a.issues),r.abortEarly){t.typed=!1;break}}a.typed||(t.typed=!1),t.value.push(a.value)}}else u(this,"type",t,r);return t}}}function Ls(s,n,e){return{kind:"schema",type:"tuple_with_rest",reference:Ls,expects:"Array",async:!0,items:s,rest:n,message:e,async _run(t,r){let o=t.value;if(Array.isArray(o)){t.typed=!0,t.value=[];let[i,p]=await Promise.all([Promise.all(this.items.map(async(a,c)=>{let I=o[c];return[c,I,await a._run({typed:!1,value:I},r)]})),Promise.all(o.slice(this.items.length).map(async(a,c)=>[c+this.items.length,a,await this.rest._run({typed:!1,value:a},r)]))]);for(let[a,c,I]of i){if(I.issues){let m={type:"array",origin:"value",input:o,key:a,value:c};for(let d of I.issues)d.path?d.path.unshift(m):d.path=[m],t.issues?.push(d);if(t.issues||(t.issues=I.issues),r.abortEarly){t.typed=!1;break}}I.typed||(t.typed=!1),t.value.push(I.value)}if(!t.issues||!r.abortEarly)for(let[a,c,I]of p){if(I.issues){let m={type:"array",origin:"value",input:o,key:a,value:c};for(let d of I.issues)d.path?d.path.unshift(m):d.path=[m],t.issues?.push(d);if(t.issues||(t.issues=I.issues),r.abortEarly){t.typed=!1;break}}I.typed||(t.typed=!1),t.value.push(I.value)}}else u(this,"type",t,r);return t}}}function Ks(s){return{kind:"schema",type:"undefined",reference:Ks,expects:"undefined",async:!1,message:s,_run(n,e){return n.value===void 0?n.typed=!0:u(this,"type",n,e),n}}}function w(s){let n;if(s)for(let e of s)n?n.push(...e.issues):n=e.issues;return n}function $s(s,n){return{kind:"schema",type:"union",reference:$s,expects:[...new Set(s.map(e=>e.expects))].join(" | ")||"never",async:!1,options:s,message:n,_run(e,t){let r,o,i;for(let p of this.options){let a=p._run({typed:!1,value:e.value},t);if(a.typed)if(a.issues)o?o.push(a):o=[a];else{r=a;break}else i?i.push(a):i=[a]}if(r)return r;if(o){if(o.length===1)return o[0];u(this,"type",e,t,{issues:w(o)}),e.typed=!0}else{if(i?.length===1)return i[0];u(this,"type",e,t,{issues:w(i)})}return e}}}function zs(s,n){return{kind:"schema",type:"union",reference:zs,expects:[...new Set(s.map(e=>e.expects))].join(" | ")||"never",async:!0,options:s,message:n,async _run(e,t){let r,o,i;for(let p of this.options){let a=await p._run({typed:!1,value:e.value},t);if(a.typed)if(a.issues)o?o.push(a):o=[a];else{r=a;break}else i?i.push(a):i=[a]}if(r)return r;if(o){if(o.length===1)return o[0];u(this,"type",e,t,{issues:w(o)}),e.typed=!0}else{if(i?.length===1)return i[0];u(this,"type",e,t,{issues:w(i)})}return e}}}function Us(){return{kind:"schema",type:"unknown",reference:Us,expects:"unknown",async:!1,_run(s){return s.typed=!0,s}}}function E(s,n,e=new Set){for(let t of n)t.type==="variant"?E(s,t.options,e):e.add(t.entries[s].expects);return e}function Fs(s,n,e){let t;return{kind:"schema",type:"variant",reference:Fs,expects:"Object",async:!1,key:s,options:n,message:e,_run(r,o){let i=r.value;if(i&&typeof i=="object"){let p=i[this.key];if(this.key in i){let a;for(let c of this.options)if(c.type==="variant"||!c.entries[this.key]._run({typed:!1,value:p},o).issues){let I=c._run({typed:!1,value:i},o);if(!I.issues)return I;(!a||!a.typed&&I.typed)&&(a=I)}if(a)return a}t||(t=[...E(this.key,this.options)].join(" | ")||"never"),u(this,"type",r,o,{input:p,expected:t,path:[{type:"object",origin:"value",input:i,key:this.key,value:p}]})}else u(this,"type",r,o);return r}}}function Gs(s,n,e){let t;return{kind:"schema",type:"variant",reference:Gs,expects:"Object",async:!0,key:s,options:n,message:e,async _run(r,o){let i=r.value;if(i&&typeof i=="object"){let p=i[this.key];if(this.key in i){let a;for(let c of this.options)if(c.type==="variant"||!(await c.entries[this.key]._run({typed:!1,value:p},o)).issues){let I=await c._run({typed:!1,value:i},o);if(!I.issues)return I;(!a||!a.typed&&I.typed)&&(a=I)}if(a)return a}t||(t=[...E(this.key,this.options)].join(" | ")||"never"),u(this,"type",r,o,{input:p,expected:t,path:[{type:"object",origin:"value",input:i,key:this.key,value:p}]})}else u(this,"type",r,o);return r}}}function Xs(s){return{kind:"schema",type:"void",reference:Xs,expects:"void",async:!1,message:s,_run(n,e){return n.value===void 0?n.typed=!0:u(this,"type",n,e),n}}}function Bt(s,n){return _(Object.keys(s.entries),n)}function bt(s,n){let e={...s.entries};for(let t of n)delete e[t];return{...s,entries:e}}function me(s,n,e){let t=s._run({typed:!1,value:n},l(e));if(t.issues)throw new h(t.issues);return t.value}async function de(s,n,e){let t=await s._run({typed:!1,value:n},l(e));if(t.issues)throw new h(t.issues);return t.value}function Et(s,n){let e=t=>me(s,t,n);return e.schema=s,e.config=n,e}function Mt(s,n){let e=t=>de(s,t,n);return e.schema=s,e.config=n,e}function At(s,n){let e={};for(let t in s.entries)e[t]=!n||n.includes(t)?v(s.entries[t]):s.entries[t];return{...s,entries:e}}function jt(s,n){let e={};for(let t in s.entries)e[t]=!n||n.includes(t)?R(s.entries[t]):s.entries[t];return{...s,entries:e}}function vt(s,n){let e={};for(let t of n)e[t]=s.entries[t];return{...s,entries:e}}function Rt(...s){return{...s[0],pipe:s,_run(n,e){for(let t=0;t<s.length;t++){if(n.issues&&(s[t].kind==="schema"||s[t].kind==="transformation")){n.typed=!1;break}(!n.issues||!e.abortEarly&&!e.abortPipeEarly)&&(n=s[t]._run(n,e))}return n}}}function _t(...s){return{...s[0],pipe:s,async:!0,async _run(n,e){for(let t=0;t<s.length;t++){if(n.issues&&(s[t].kind==="schema"||s[t].kind==="transformation")){n.typed=!1;break}(!n.issues||!e.abortEarly&&!e.abortPipeEarly)&&(n=await s[t]._run(n,e))}return n}}}function Pt(s,n,e){let t=Array.isArray(n)?n:void 0,r=Array.isArray(n)?e:n,o={};for(let i in s.entries)o[i]=!t||t.includes(i)?A(s.entries[i],r):s.entries[i];return{...s,entries:o}}function qt(s,n,e){let t=Array.isArray(n)?n:void 0,r=Array.isArray(n)?e:n,o={};for(let i in s.entries)o[i]=!t||t.includes(i)?j(s.entries[i],r):s.entries[i];return{...s,entries:o}}function fe(s,n,e){let t=s._run({typed:!1,value:n},l(e));return{typed:t.typed,success:!t.issues,output:t.value,issues:t.issues}}async function ye(s,n,e){let t=await s._run({typed:!1,value:n},l(e));return{typed:t.typed,success:!t.issues,output:t.value,issues:t.issues}}function Dt(s,n){let e=t=>fe(s,t,n);return e.schema=s,e.config=n,e}function Nt(s,n){let e=t=>ye(s,t,n);return e.schema=s,e.config=n,e}function Wt(s){return s.wrapped}0&&(module.exports={BIC_REGEX,CUID2_REGEX,DECIMAL_REGEX,EMAIL_REGEX,EMOJI_REGEX,HEXADECIMAL_REGEX,HEX_COLOR_REGEX,IMEI_REGEX,IPV4_REGEX,IPV6_REGEX,IP_REGEX,ISO_DATE_REGEX,ISO_DATE_TIME_REGEX,ISO_TIMESTAMP_REGEX,ISO_TIME_REGEX,ISO_TIME_SECOND_REGEX,ISO_WEEK_REGEX,MAC48_REGEX,MAC64_REGEX,MAC_REGEX,OCTAL_REGEX,ULID_REGEX,UUID_REGEX,ValiError,_addIssue,_isLuhnAlgo,_isValidObjectKey,_stringify,any,array,arrayAsync,bic,bigint,blob,boolean,brand,bytes,check,checkAsync,checkItems,config,creditCard,cuid2,custom,customAsync,date,decimal,deleteGlobalConfig,deleteGlobalMessage,deleteSchemaMessage,deleteSpecificMessage,email,emoji,empty,endsWith,entriesFromList,enum:null,enum_,everyItem,excludes,fallback,fallbackAsync,filterItems,findItem,finite,flatten,forward,forwardAsync,getDefault,getDefaults,getDefaultsAsync,getDotPath,getFallback,getFallbacks,getFallbacksAsync,getGlobalConfig,getGlobalMessage,getSchemaMessage,getSpecificMessage,hash,hexColor,hexadecimal,imei,includes,instance,integer,intersect,intersectAsync,ip,ipv4,ipv6,is,isOfKind,isOfType,isValiError,isoDate,isoDateTime,isoTime,isoTimeSecond,isoTimestamp,isoWeek,keyof,lazy,lazyAsync,length,literal,looseObject,looseObjectAsync,looseTuple,looseTupleAsync,mac,mac48,mac64,map,mapAsync,mapItems,maxBytes,maxLength,maxSize,maxValue,mimeType,minBytes,minLength,minSize,minValue,multipleOf,nan,never,nonEmpty,nonNullable,nonNullableAsync,nonNullish,nonNullishAsync,nonOptional,nonOptionalAsync,notBytes,notLength,notSize,notValue,null:null,null_,nullable,nullableAsync,nullish,nullishAsync,number,object,objectAsync,objectWithRest,objectWithRestAsync,octal,omit,optional,optionalAsync,parse,parseAsync,parser,parserAsync,partial,partialAsync,partialCheck,partialCheckAsync,pick,picklist,pipe,pipeAsync,rawCheck,rawCheckAsync,rawTransform,rawTransformAsync,readonly,record,recordAsync,reduceItems,regex,required,requiredAsync,safeInteger,safeParse,safeParseAsync,safeParser,safeParserAsync,set,setAsync,setGlobalConfig,setGlobalMessage,setSchemaMessage,setSpecificMessage,size,someItem,sortItems,startsWith,strictObject,strictObjectAsync,strictTuple,strictTupleAsync,string,symbol,toLowerCase,toMaxValue,toMinValue,toUpperCase,transform,transformAsync,trim,trimEnd,trimStart,tuple,tupleAsync,tupleWithRest,tupleWithRestAsync,ulid,undefined,undefined_,union,unionAsync,unknown,unwrap,url,uuid,value,variant,variantAsync,void:null,void_});
